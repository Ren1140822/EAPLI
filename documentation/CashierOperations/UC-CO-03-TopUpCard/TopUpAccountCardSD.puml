@startuml

'http://plantuml.com/skinparam.html
skinparam handwritten true
skinparam monochrome true
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

Cashier -> UI: Starts a top up service
Activate UI
Cashier <-- UI: Asks for topup amount
UI->TopUpCntrl: topUpCard(mecNum, amount, cashier)
Activate TopUpCntrl
TopUpCntrl -> AccountCardRepo: c = findByMecNum(mecNum)
TopUpCntrl -> UserSession : cashier = authenticatedUser()
create TopUp
TopUpCntrl -> TopUp: t = create(card, amount, cashier)
TopUpCntrl -> TransactionRepo: save(t)
TopUpCntrl -> TopUp: notifyObservers()
Deactivate TopUpCntrl
Deactivate UI

@enduml